{"version":3,"sources":["images/logo.svg","components/Header.js","components/ui/Button.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","contexts/StatusRenderContext.js","components/ui/ButtonSubmitForm.js","components/ui/InputForm.js","components/ui/ErrorSpan.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePlacePopup.js","utils/Api.js","components/App.js","index.js"],"names":["module","exports","MemodHeader","React","memo","className","src","logoHeader","alt","MemodButton","action","label","onBtnClick","optionalClasses","btnClasses","classnames","btn","type","aria-label","onClick","CurrentUserContext","createContext","MemodCard","name","link","owner","likes","_id","onCardClick","onCardLike","onConfirmDelete","currentUser","useContext","isMyCard","isMyLike","some","btnLikeClasses","btn_type_like","length","cardId","MemodMain","cards","onEditAvatar","onEditProfile","onAddPlace","avatar","about","map","card","index","key","MemodFooter","MemodImagePopup","onClose","isOpen","popupClasses","popup","popup_disabled","useEffect","handleEscListener","evt","document","addEventListener","removeEventListener","id","target","classList","contains","MemodPopupWithForm","title","onSubmitForm","children","linkClose","useCallback","method","onSubmit","preventDefault","noValidate","StatusRenderContext","MemodButtonSubmitForm","text","isActive","isRenderer","btn_type_submit","disabled","color","height","width","MemodInputForm","placeholder","required","min","max","pattern","value","onInputChange","minLength","maxLength","onChange","MemodErrorSpan","errorText","MemodEditProfilePopup","onUpdaterUser","useState","setName","description","setDescription","errorName","setErrorName","errorDescription","setErrorDescription","isNameValid","setIsNameValid","isDescriptionValid","setIsDescriptionValid","isValid","setIsValid","hideErrors","validationMessage","validity","valid","MemodEditAvatarPopup","onUpdaterUserAvatar","inputUrl","useRef","setAvatar","errorAvatar","setErrorAvatar","isAvatarValid","setIsAvatarValid","current","ref","MemodAddPlacePopup","onPost","setLink","errorLink","setErrorLink","isLinkValid","setIsLinkValid","MemodDeletePlacePopup","onDelete","api","baseUrl","headers","this","_baseUrl","_headers","Promise","all","_getUserInfo","_getInitialCards","response","ok","json","reject","status","fetch","then","_returnResponse","myId","body","JSON","stringify","isLiked","data","authorization","MemodApp","setIsRenderer","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeletePlacePopupOpen","setIsDeletePlacePopupOpen","isPreviewPopupOpen","setIsPreviewPopupOpen","selectedCard","setSelectedCard","selectedDeleteCardId","setSelectedDeleteCardId","setCurrentUser","setCards","getInitialData","userData","cardsData","catch","error","console","log","handleCloseAllPopups","Provider","infoCard","likeCard","newCards","updateUserInfo","newUserData","updateUserAvatar","postCard","newCard","deleteCard","filter","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6f87d817.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.c6f11019.svg\";","import React from 'react';\n\nimport logoHeader from '../images/logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img\n        src={logoHeader}\n        alt=\"Изображение логотипа социальной сети Mesto Russia\"\n        className=\"logo header__logo \"\n      />\n    </header>\n  );\n}\n\nconst MemodHeader = React.memo(Header);\nexport default MemodHeader;\n","import React from 'react';\nimport classnames from 'classnames';\n\nfunction Button({ action, label, onBtnClick, optionalClasses }) {\n  const btnClasses = classnames({\n    btn: true,\n    [`btn_type_${action}`]: action || false,\n    [`${optionalClasses}`]: optionalClasses,\n  });\n\n  return (\n    <button\n      type=\"button\"\n      aria-label={label}\n      className={btnClasses}\n      onClick={onBtnClick}\n    ></button>\n  );\n}\n\nconst MemodButton = React.memo(Button);\nexport default MemodButton;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React, { useContext } from 'react';\nimport classnames from 'classnames';\n\nimport Button from './ui/Button';\n\nimport { CurrentUserContext } from './../contexts/CurrentUserContext';\n\nfunction Card({\n  name,\n  link,\n  owner,\n  likes,\n  _id,\n  onCardClick,\n  onCardLike,\n  onConfirmDelete,\n}) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const isMyCard = owner._id === currentUser._id;\n  const isMyLike = likes.some((owner) => owner._id === currentUser._id);\n\n  const btnLikeClasses = classnames({\n    btn_type_like: isMyLike,\n    'element__btn-like': true,\n  });\n\n  const handleCardClick = () => onCardClick({ name, link });\n  const handleCardLike = () => onCardLike({ likes: likes, cardId: _id });\n  const handleConfirmDelete = () => onConfirmDelete({ cardId: _id });\n\n  return (\n    <div className=\"element\">\n      <img\n        src={link}\n        alt={name}\n        className=\"element__img\"\n        onClick={handleCardClick}\n      />\n      <h2 className=\"element__title\">{name}</h2>{' '}\n      <span className=\"element__likes\">{likes.length}</span>\n      <Button\n        action=\"not-like\"\n        label=\"лайкнуть\"\n        optionalClasses={btnLikeClasses}\n        onBtnClick={handleCardLike}\n      />\n      {isMyCard && (\n        <Button\n          action=\"trash\"\n          label=\"удалить\"\n          optionalClasses=\"element__btn-trash\"\n          onBtnClick={handleConfirmDelete}\n        />\n      )}\n    </div>\n  );\n}\n\nconst MemodCard = React.memo(Card);\nexport default MemodCard;\n","import React, { useContext } from 'react';\nimport Card from './Card';\n\nimport Button from './ui/Button';\n\nimport { CurrentUserContext } from './../contexts/CurrentUserContext';\n\nfunction Main({\n  cards,\n  onEditAvatar,\n  onEditProfile,\n  onAddPlace,\n  onCardClick,\n  onCardLike,\n  onConfirmDelete,\n}) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <img\n          className=\"profile__photo\"\n          src={currentUser.avatar}\n          alt=\"Фотография пользователя\"\n        />\n        <Button\n          action=\"update\"\n          label=\"обновить\"\n          optionalClasses=\"profile__btn-update\"\n          onBtnClick={onEditAvatar}\n        />\n        <div className=\"profile__info\">\n          <h2 className=\"profile__user-name\">{currentUser.name}</h2>\n          <Button\n            action=\"edit\"\n            label=\"редактировать\"\n            optionalClasses=\"profile__btn-edit\"\n            onBtnClick={onEditProfile}\n          />\n          <p className=\"profile__user-hobby\">{currentUser.about}</p>\n        </div>\n        <Button\n          action=\"add\"\n          label=\"добавить\"\n          optionalClasses=\"profile__btn-add\"\n          onBtnClick={onAddPlace}\n        />\n      </section>\n      <section className=\"elements\">\n        {cards.map((card, index) => {\n          return (\n            <Card\n              key={`${index}-${card._id}`}\n              {...card}\n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              onConfirmDelete={onConfirmDelete}\n            />\n          );\n        })}\n      </section>\n    </main>\n  );\n}\n\nconst MemodMain = React.memo(Main);\nexport default MemodMain;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <span className=\"footer__copyright\">© 2020 Mesto Russia</span>\n    </footer>\n  );\n}\n\nconst MemodFooter = React.memo(Footer);\nexport default MemodFooter;\n","import React, { useEffect } from 'react';\nimport classnames from 'classnames';\n\nimport Button from './ui/Button';\n\nfunction ImagePopup({ name, link, onClose, isOpen }) {\n  const popupClasses = classnames({\n    popup: true,\n    popup_disabled: !isOpen,\n  });\n\n  useEffect(() => {\n    const handleEscListener = (evt) => {\n      if (evt.key === 'Escape') onClose();\n    };\n\n    if (isOpen) document.addEventListener('keydown', handleEscListener);\n\n    return () => document.removeEventListener('keydown', handleEscListener);\n  }, [isOpen, onClose]);\n\n  const handleOverlayClick = (evt) => {\n    if (evt.target.classList.contains('popup')) onClose();\n  };\n\n  return (\n    <section\n      className={popupClasses}\n      id=\"popupCardPreview\"\n      onClick={handleOverlayClick}\n    >\n      <div className=\"popup__container\">\n        <section className=\"preview-image popup__preview\">\n          <Button\n            action=\"close\"\n            label=\"закрыть\"\n            optionalClasses=\"popup__btn-close preview-image__btn-close\"\n            onBtnClick={onClose}\n          />\n          <img\n            src={link}\n            alt={name}\n            className=\"preview-image__img popup__img\"\n          />\n          <h3 className=\"preview-image__title popup__title\">{name}</h3>\n        </section>\n      </div>\n    </section>\n  );\n}\n\nconst MemodImagePopup = React.memo(ImagePopup);\nexport default MemodImagePopup;\n","import React, { useEffect, useCallback } from 'react';\nimport classnames from 'classnames';\n\nimport Button from './ui/Button';\n\nfunction PopupWithForm({\n  name,\n  title,\n  isOpen = false,\n  onClose,\n  onSubmitForm,\n  children,\n}) {\n  const popupClasses = classnames({\n    popup: true,\n    popup_disabled: !isOpen,\n  });\n\n  const linkClose = useCallback(onClose);\n\n  useEffect(() => {\n    const handleEscListener = (evt) => {\n      if (evt.key === 'Escape') linkClose();\n    };\n\n    if (isOpen) document.addEventListener('keydown', handleEscListener);\n\n    return () => {\n      document.removeEventListener('keydown', handleEscListener);\n    };\n  }, [isOpen, linkClose]);\n\n  const handleOverlayClick = (evt) => {\n    if (evt.target.classList.contains('popup')) onClose(); // ???\n  };\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onSubmitForm();\n  };\n\n  return (\n    <section\n      className={popupClasses}\n      id={`popup${name}`}\n      onClick={handleOverlayClick}\n    >\n      <div className=\"popup__container\">\n        <Button\n          action=\"close\"\n          label=\"закрыть\"\n          optionalClasses=\"popup__btn-close\"\n          onBtnClick={onClose}\n        />\n        <h3 className=\"popup__title\">{title}</h3>\n        <form\n          name={name}\n          method=\"post\"\n          action=\"#\"\n          className=\"form popup__form\"\n          onSubmit={handleSubmit}\n          noValidate\n        >\n          {children}\n        </form>\n      </div>\n    </section>\n  );\n}\n\nconst MemodPopupWithForm = React.memo(PopupWithForm);\nexport default MemodPopupWithForm;\n","import React from 'react';\n\nexport const StatusRenderContext = React.createContext();\n","import React, { useContext } from 'react';\nimport classnames from 'classnames';\nimport Loader from 'react-loader-spinner';\n\nimport { StatusRenderContext } from './../../contexts/StatusRenderContext';\n\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nfunction ButtonSubmitForm({ text, label, isActive }) {\n  const isRenderer = useContext(StatusRenderContext);\n\n  const btnClasses = classnames({\n    btn: true,\n    btn_type_submit: true,\n    'form__btn-submit': true,\n    'form__btn-submit_disabled': !isActive,\n  });\n\n  return (\n    <button\n      type=\"submit\"\n      className={btnClasses}\n      aria-label={label}\n      disabled={!isActive}\n    >\n      {isRenderer ? (\n        <Loader\n          type=\"ThreeDots\"\n          color=\"#ffffff\"\n          height={80}\n          width={80}\n          className=\"btn__spinner\"\n        />\n      ) : (\n        text\n      )}\n    </button>\n  );\n}\n\nconst MemodButtonSubmitForm = React.memo(ButtonSubmitForm);\nexport default MemodButtonSubmitForm;\n","import React from 'react';\n\nfunction InputForm({\n  type = 'text',\n  placeholder,\n  name,\n  required = false,\n  length = { min: 0, max: 500 },\n  pattern = '.*',\n  value = '',\n  onInputChange,\n}) {\n  return (\n    <input\n      type={type}\n      className=\"input form__input\"\n      placeholder={placeholder}\n      name={name}\n      required={required}\n      minLength={length.min}\n      maxLength={length.max}\n      pattern={pattern}\n      value={value}\n      onChange={onInputChange}\n    />\n  );\n}\n\nconst MemodInputForm = React.memo(InputForm);\nexport default MemodInputForm;\n","import React from 'react';\n\nfunction ErrorSpan({ isActive, errorText }) {\n  return (\n    <span\n      className={`form__input-error ${!isActive && 'form__input-error_active'}`}\n    >\n      {errorText}\n    </span>\n  );\n}\n\nconst MemodErrorSpan = React.memo(ErrorSpan);\nexport default MemodErrorSpan;\n","import React, { useState, useEffect, useContext } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport ButtonSubmitForm from './ui/ButtonSubmitForm';\nimport InputForm from './ui/InputForm';\nimport ErrorSpan from './ui/ErrorSpan';\n\nimport { CurrentUserContext } from './../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdaterUser }) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const [errorName, setErrorName] = useState('');\n  const [errorDescription, setErrorDescription] = useState('');\n  const [isNameValid, setIsNameValid] = useState(false);\n  const [isDescriptionValid, setIsDescriptionValid] = useState(false);\n  const [isValid, setIsValid] = useState(false);\n\n  useEffect(() => {\n    const { name, about } = currentUser;\n    setName(name);\n    setDescription(about);\n  }, [currentUser]);\n\n  useEffect(() => {\n    hideErrors();\n  }, [isOpen]);\n\n  useEffect(() => {\n    if (isNameValid && isDescriptionValid) setIsValid(true);\n\n    return () => {\n      setIsValid(false);\n    };\n  }, [isNameValid, isDescriptionValid]);\n\n  const hideErrors = () => {\n    setErrorName('');\n    setErrorDescription('');\n    setIsNameValid(true);\n    setIsDescriptionValid(true);\n  };\n\n  const handleNameChange = (evt) => {\n    const { value, validationMessage, validity } = evt.target;\n    setName(value);\n    if (validationMessage !== errorName) setErrorName(validationMessage);\n    if (validity.valid) setIsNameValid(true);\n    else setIsNameValid(false);\n  };\n\n  const handleDescriptionChange = (evt) => {\n    const { value, validationMessage, validity } = evt.target;\n    setDescription(value);\n    if (validationMessage !== errorDescription)\n      setErrorDescription(validationMessage);\n    if (validity.valid) setIsDescriptionValid(true);\n    else setIsDescriptionValid(false);\n  };\n\n  const handleClose = () => {\n    const { name, about } = currentUser;\n    setName(name);\n    setDescription(about);\n    onClose();\n  };\n\n  const handleSubmit = () =>\n    onUpdaterUser({\n      name,\n      about: description,\n    });\n\n  return (\n    <PopupWithForm\n      name=\"EditForm\"\n      title=\"Редактировать профиль\"\n      isOpen={isOpen}\n      onClose={handleClose}\n      onSubmitForm={handleSubmit}\n      isValid={isValid}\n    >\n      <label className=\"form__field\">\n        <InputForm\n          placeholder=\"Введите имя\"\n          name=\"name\"\n          length={{ min: 2, max: 40 }}\n          pattern=\"[А-Яа-яёЁA-Za-z\\s-]*\"\n          required\n          value={name}\n          onInputChange={handleNameChange}\n        />\n        <ErrorSpan isActive={isNameValid} errorText={errorName} />\n      </label>\n      <label className=\"form__field\">\n        <InputForm\n          placeholder=\"Введите хобби\"\n          name=\"hobby\"\n          length={{ min: 2, max: 200 }}\n          required\n          value={description}\n          onInputChange={handleDescriptionChange}\n        />\n        <ErrorSpan isActive={isDescriptionValid} errorText={errorDescription} />\n      </label>\n      <ButtonSubmitForm text=\"Сохранить\" label=\"сохранить\" isActive={isValid} />\n    </PopupWithForm>\n  );\n}\n\nconst MemodEditProfilePopup = React.memo(EditProfilePopup);\nexport default MemodEditProfilePopup;\n","import React, { useState, useEffect, useRef } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport ButtonSubmitForm from './ui/ButtonSubmitForm';\nimport ErrorSpan from './ui/ErrorSpan';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdaterUserAvatar }) {\n  const inputUrl = useRef();\n\n  const [avatar, setAvatar] = useState('');\n  const [errorAvatar, setErrorAvatar] = useState('');\n  const [isAvatarValid, setIsAvatarValid] = useState(false);\n  const [isValid, setIsValid] = useState(false);\n\n  useEffect(() => {\n    setAvatar('');\n    inputUrl.current.value = '';\n    hideErrors();\n  }, [isOpen]);\n\n  useEffect(() => {\n    if (isAvatarValid) setIsValid(true);\n    return () => setIsValid(false);\n  }, [isAvatarValid]);\n\n  const hideErrors = () => {\n    setErrorAvatar('');\n    setIsAvatarValid(false);\n  };\n\n  const handleUrlChange = () => {\n    const { value, validationMessage, validity } = inputUrl.current;\n    setAvatar(value);\n    if (validationMessage !== errorAvatar) setErrorAvatar(validationMessage);\n    if (validity.valid) setIsAvatarValid(true);\n    else setIsAvatarValid(false);\n  };\n\n  const handleSubmit = () =>\n    onUpdaterUserAvatar({\n      avatar,\n    });\n\n  return (\n    <PopupWithForm\n      name=\"EditForm\"\n      title=\"Редактировать профиль\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmitForm={handleSubmit}\n    >\n      <label className=\"form__field\">\n        <input\n          type=\"url\"\n          className=\"input input_type_hobby form__input\"\n          placeholder=\"Ссылка на новый аватар\"\n          name=\"urlAvatar\"\n          id=\"avatar-input\"\n          required\n          ref={inputUrl}\n          onChange={handleUrlChange}\n        />\n        <ErrorSpan isActive={isAvatarValid} errorText={errorAvatar} />\n      </label>\n      <ButtonSubmitForm text=\"Сохранить\" label=\"сохранить\" isActive={isValid} />\n    </PopupWithForm>\n  );\n}\n\nconst MemodEditAvatarPopup = React.memo(EditAvatarPopup);\nexport default MemodEditAvatarPopup;\n","import React, { useState, useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport ButtonSubmitForm from './ui/ButtonSubmitForm';\nimport InputForm from './ui/InputForm';\nimport ErrorSpan from './ui/ErrorSpan';\n\nfunction AddPlacePopup({ isOpen, onClose, onPost }) {\n  const [name, setName] = useState();\n  const [link, setLink] = useState();\n  const [errorName, setErrorName] = useState('');\n  const [errorLink, setErrorLink] = useState('');\n  const [isNameValid, setIsNameValid] = useState(false);\n  const [isLinkValid, setIsLinkValid] = useState(false);\n  const [isValid, setIsValid] = useState(false);\n\n  useEffect(() => {\n    setName('');\n    setLink('');\n    hideErrors();\n  }, [isOpen]);\n\n  useEffect(() => {\n    if (isNameValid && isLinkValid) setIsValid(true);\n\n    return () => {\n      setIsValid(false);\n    };\n  }, [isNameValid, isLinkValid]);\n\n  const hideErrors = () => {\n    setErrorName('');\n    setErrorLink('');\n    setIsNameValid(false);\n    setIsLinkValid(false);\n  };\n\n  const handleNameChange = (evt) => {\n    const { value, validationMessage, validity } = evt.target;\n    setName(value);\n    if (validationMessage !== errorName) setErrorName(validationMessage);\n    if (validity.valid) setIsNameValid(true);\n    else setIsNameValid(false);\n  };\n\n  const handleLinkChange = (evt) => {\n    const { value, validationMessage, validity } = evt.target;\n    setLink(value);\n    if (validationMessage !== errorLink) setErrorLink(validationMessage);\n    if (validity.valid) setIsLinkValid(true);\n    else setIsLinkValid(false);\n  };\n\n  const handleSubmit = () => onPost({ name, link });\n\n  return (\n    <PopupWithForm\n      name=\"AddForm\"\n      title=\"Новое место\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmitForm={handleSubmit}\n    >\n      <label className=\"form__field\">\n        <InputForm\n          placeholder=\"Название места\"\n          name=\"place\"\n          required\n          length={{ min: 1, max: 30 }}\n          value={name}\n          onInputChange={handleNameChange}\n        />\n        <ErrorSpan isActive={isNameValid} errorText={errorName} />\n      </label>\n      <label className=\"form__field\">\n        <InputForm\n          type=\"url\"\n          placeholder=\"Ссылка на картинку\"\n          name=\"linkPlace\"\n          required\n          value={link}\n          onInputChange={handleLinkChange}\n        />\n        <ErrorSpan isActive={isLinkValid} errorText={errorLink} />\n      </label>\n      <ButtonSubmitForm text=\"Создать\" label=\"создать\" isActive={isValid} />\n    </PopupWithForm>\n  );\n}\n\nconst MemodAddPlacePopup = React.memo(AddPlacePopup);\nexport default MemodAddPlacePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm'; // !\nimport ButtonSubmitForm from './ui/ButtonSubmitForm';\n\nfunction DeletePlacePopup({ isOpen, onClose, onDelete }) {\n  return (\n    <PopupWithForm\n      name=\"DeleteForm\"\n      title=\"Вы уверены?\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmitForm={onDelete}\n    >\n      <ButtonSubmitForm text=\"Да\" label=\"подтвердить\" isActive={true} />\n    </PopupWithForm>\n  );\n}\n\nconst MemodDeletePlacePopup = React.memo(DeletePlacePopup);\nexport default MemodDeletePlacePopup;\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  getInitialData() {\n    return Promise.all([this._getUserInfo(), this._getInitialCards()]);\n  }\n\n  _returnResponse(response) {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(`Ошибка: ${response.status}`);\n  }\n\n  _getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    }).then(this._returnResponse);\n  }\n\n  _getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    })\n      .then(this._returnResponse)\n      .then((response) => {\n        this.myId = response._id;\n        return response;\n      });\n  }\n\n  updateUserInfo(body) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(body),\n    }).then(this._returnResponse);\n  }\n\n  updateUserAvatar(body) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(body),\n    }).then(this._returnResponse);\n  }\n\n  postCard(body) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(body),\n    }).then(this._returnResponse);\n  }\n\n  deleteCard({ cardId }) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then(this._returnResponse);\n  }\n\n  likeCard({ isLiked, cardId }) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: isLiked ? 'DELETE' : 'PUT',\n      headers: this._headers,\n    })\n      .then(this._returnResponse)\n      .then((data) => data.likes);\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-12',\n  headers: {\n    authorization: '71b91625-ec4b-4170-b042-4d00aa6f06b7',\n    'Content-Type': 'application/json',\n  },\n});\n\nexport default api;\n","import React, { useState, useEffect } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeletePlacePopup from './DeletePlacePopup';\n\nimport api from './../utils/Api';\n\nimport { CurrentUserContext } from './../contexts/CurrentUserContext';\nimport { StatusRenderContext } from './../contexts/StatusRenderContext';\n\nfunction App() {\n  const [isRenderer, setIsRenderer] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isDeletePlacePopupOpen, setIsDeletePlacePopupOpen] = useState(false);\n  const [isPreviewPopupOpen, setIsPreviewPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [selectedDeleteCardId, setSelectedDeleteCardId] = useState('');\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n\n  useEffect(() => {\n    api\n      .getInitialData()\n      .then(([userData, cardsData]) => {\n        setCurrentUser(userData);\n        setCards(cardsData);\n      })\n      .catch((error) => console.log(`Ошибка: ${error}`));\n  }, []);\n\n  const handlePreviewOpen = () => setIsPreviewPopupOpen(true);\n  const handleEditAvatarClick = () => setIsEditAvatarPopupOpen(true);\n  const handleEditProfileClick = () => setIsEditProfilePopupOpen(true);\n  const handleAddPlaceClick = () => setIsAddPlacePopupOpen(true);\n  const handleDeletePlaceClick = ({ cardId }) => {\n    setIsDeletePlacePopupOpen(true);\n    setSelectedDeleteCardId(cardId);\n  };\n  const handleCloseAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsDeletePlacePopupOpen(false);\n    setIsPreviewPopupOpen(false);\n  };\n\n  const handleCardClick = (infoCard) => {\n    setSelectedCard(infoCard);\n    handlePreviewOpen();\n  };\n\n  const handleUpdaterUser = ({ name, about }) => {\n    setIsRenderer(true);\n    api\n      .updateUserInfo({ name, about })\n      .then((newUserData) => {\n        setCurrentUser(newUserData);\n        handleCloseAllPopups();\n        setIsRenderer(false);\n      })\n      .catch((error) => console.log(`Ошибка: ${error}`));\n  };\n\n  const handleUpdaterAvatar = ({ avatar }) => {\n    setIsRenderer(true);\n    api\n      .updateUserAvatar({ avatar })\n      .then((newUserData) => {\n        setCurrentUser(newUserData);\n        handleCloseAllPopups();\n        setIsRenderer(false);\n      })\n      .catch((error) => console.log(`Ошибка: ${error}`));\n  };\n\n  const handleCardLike = ({ likes, cardId }) => {\n    const isLiked = likes.some((owner) => owner._id === currentUser._id);\n    api\n      .likeCard({ isLiked, cardId })\n      .then((likes) => {\n        const newCards = cards.map((card) =>\n          card._id === cardId ? { ...card, likes: likes } : card\n        );\n        setCards(newCards);\n      })\n      .catch((error) => console.log(`Ошибка: ${error}`));\n  };\n\n  const handleCardDelete = () => {\n    setIsRenderer(true);\n    api\n      .deleteCard({ cardId: selectedDeleteCardId })\n      .then(() => {\n        const newCards = cards.filter(\n          (card) => card._id !== selectedDeleteCardId\n        );\n        setCards(newCards);\n        handleCloseAllPopups();\n        setIsRenderer(false);\n      })\n      .catch((error) => console.log(`Ошибка: ${error}`));\n  };\n\n  const handleAddPlace = ({ name, link }) => {\n    setIsRenderer(true);\n    api\n      .postCard({ name, link })\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        handleCloseAllPopups();\n        setIsRenderer(false);\n      })\n      .catch((error) => console.log(`Ошибка: ${error}`));\n  };\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main\n          cards={cards}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          onCardLike={handleCardLike}\n          onConfirmDelete={handleDeletePlaceClick}\n        />\n        <Footer />\n        <ImagePopup\n          {...selectedCard}\n          isOpen={isPreviewPopupOpen}\n          onClose={handleCloseAllPopups}\n        />\n        <StatusRenderContext.Provider value={isRenderer}>\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={handleCloseAllPopups}\n            onUpdaterUser={handleUpdaterUser}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={handleCloseAllPopups}\n            onUpdaterUserAvatar={handleUpdaterAvatar}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={handleCloseAllPopups}\n            onPost={handleAddPlace}\n          />\n          <DeletePlacePopup\n            isOpen={isDeletePlacePopupOpen}\n            onClose={handleCloseAllPopups}\n            onDelete={handleCardDelete}\n          />\n        </StatusRenderContext.Provider>\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nconst MemodApp = React.memo(App);\nexport default MemodApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}