{"version":3,"sources":["images/logo.svg","components/Header.js","components/ui/Button.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","contexts/StatusRenderContext.js","components/ui/ButtonSubmitForm.js","components/ui/InputForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePlacePopup.js","utils/Api.js","components/App.js","index.js"],"names":["module","exports","Header","className","src","logoHeader","alt","Button","action","label","onBtnClick","optionalClasses","btnClasses","classnames","btn","type","aria-label","onClick","CurrentUserContext","React","createContext","Card","name","link","owner","likes","_id","onCardClick","onCardLike","onConfirmDelete","currentUser","useContext","isMyCard","isMyLike","some","btnLikeClasses","btn_type_like","length","cardId","Main","cards","onEditAvatar","onEditProfile","onAddPlace","avatar","about","map","card","index","key","Footer","ImagePopup","onClose","isOpen","popupClasses","popup","popup_disabled","useEffect","handleEscListener","evt","document","addEventListener","removeEventListener","id","target","classList","contains","PopupWithForm","title","onSubmitForm","children","method","onSubmit","preventDefault","StatusRenderContext","ButtonSubmitForm","text","isRenderer","color","height","width","InputForm","placeholder","required","min","max","pattern","value","onInputChange","minLength","maxLength","onChange","EditProfilePopup","onUpdaterUser","useState","setName","description","setDescription","EditAvatarPopup","onUpdaterUserAvatar","inputUrl","useRef","setAvatar","ref","current","AddPlacePopup","onPost","setLink","DeletePlacePopup","onDelete","api","baseUrl","headers","this","_baseUrl","_headers","Promise","all","_getUserInfo","_getInitialCards","response","ok","json","reject","status","fetch","then","_returnResponse","myId","body","JSON","stringify","isLiked","data","authorization","App","setIsRenderer","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeletePlacePopupOpen","setIsDeletePlacePopupOpen","isPreviewPopupOpen","setIsPreviewPopupOpen","selectedCard","setSelectedCard","selectedDeleteCardId","setSelectedDeleteCardId","setCurrentUser","setCards","getInitialData","userData","cardsData","catch","error","console","log","handleCloseAllPopups","Provider","infoCard","likeCard","newCards","updateUserInfo","newUserData","updateUserAvatar","postCard","newCard","deleteCard","filter","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.decaefa9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.c6f11019.svg\";","import React from 'react';\n\nimport logoHeader from '../images/logo.svg';\n\nconst Header = () => {\n  return (\n    <header className=\"header\">\n      <img\n        src={logoHeader}\n        alt=\"Изображение логотипа социальной сети Mesto Russia\"\n        className=\"logo header__logo \"\n      />\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport classnames from 'classnames';\n\nconst Button = ({ action, label, onBtnClick, optionalClasses }) => {\n  const btnClasses = classnames({\n    btn: true,\n    [`btn_type_${action}`]: action || false,\n    [`${optionalClasses}`]: optionalClasses,\n  });\n\n  return (\n    <button\n      type=\"button\"\n      aria-label={label}\n      className={btnClasses}\n      onClick={onBtnClick}\n    ></button>\n  );\n};\n\nexport default Button;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React, { useContext } from 'react';\nimport classnames from 'classnames';\n\nimport Button from './ui/Button';\n\nimport { CurrentUserContext } from './../contexts/CurrentUserContext';\n\nconst Card = ({\n  name,\n  link,\n  owner,\n  likes,\n  _id,\n  onCardClick,\n  onCardLike,\n  onConfirmDelete,\n}) => {\n  const currentUser = useContext(CurrentUserContext);\n\n  const isMyCard = owner._id === currentUser._id;\n  const isMyLike = likes.some((owner) => owner._id === currentUser._id);\n\n  const btnLikeClasses = classnames({\n    btn_type_like: isMyLike,\n    'element__btn-like': true,\n  });\n\n  const handleCardClick = () => onCardClick({ name, link });\n  const handleCardLike = () => onCardLike({ likes: likes, cardId: _id });\n  const handleConfirmDelete = () => onConfirmDelete({ cardId: _id });\n\n  return (\n    <div className=\"element\">\n      <img\n        src={link}\n        alt={name}\n        className=\"element__img\"\n        onClick={handleCardClick}\n      />\n      <h2 className=\"element__title\">{name}</h2>\n      <span className=\"element__likes\">{likes.length}</span>\n      <Button\n        action=\"not-like\"\n        label=\"лайкнуть\"\n        optionalClasses={btnLikeClasses}\n        onBtnClick={handleCardLike}\n      />\n      {isMyCard && (\n        <Button\n          action=\"trash\"\n          label=\"удалить\"\n          optionalClasses=\"element__btn-trash\"\n          onBtnClick={handleConfirmDelete}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Card;\n","import React, { useContext } from 'react';\nimport Card from './Card';\n\nimport Button from './ui/Button';\n\nimport { CurrentUserContext } from './../contexts/CurrentUserContext';\n\nconst Main = ({\n  cards,\n  onEditAvatar,\n  onEditProfile,\n  onAddPlace,\n  onCardClick,\n  onCardLike,\n  onConfirmDelete,\n}) => {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <img\n          className=\"profile__photo\"\n          src={currentUser.avatar}\n          alt=\"Фотография пользователя\"\n        />\n        <Button\n          action=\"update\"\n          label=\"обновить\"\n          optionalClasses=\"profile__btn-update\"\n          onBtnClick={onEditAvatar}\n        />\n        <div className=\"profile__info\">\n          <h2 className=\"profile__user-name\">{currentUser.name}</h2>\n          <Button\n            action=\"edit\"\n            label=\"редактировать\"\n            optionalClasses=\"profile__btn-edit\"\n            onBtnClick={onEditProfile}\n          />\n          <p className=\"profile__user-hobby\">{currentUser.about}</p>\n        </div>\n        <Button\n          action=\"add\"\n          label=\"добавить\"\n          optionalClasses=\"profile__btn-add\"\n          onBtnClick={onAddPlace}\n        />\n      </section>\n      <section className=\"elements\">\n        {cards.map((card, index) => {\n          return (\n            <Card\n              key={`${index}-${card._id}`}\n              {...card}\n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              onConfirmDelete={onConfirmDelete}\n            />\n          );\n        })}\n      </section>\n    </main>\n  );\n};\n\nexport default Main;\n","import React from 'react';\n\nconst Footer = () => {\n  return (\n    <footer className=\"footer\">\n      <span className=\"footer__copyright\">© 2020 Mesto Russia</span>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React, { useEffect } from 'react';\nimport classnames from 'classnames';\n\nimport Button from './ui/Button';\n\nconst ImagePopup = ({ name, link, onClose, isOpen }) => {\n  const popupClasses = classnames({\n    popup: true,\n    popup_disabled: !isOpen,\n  });\n\n  useEffect(() => {\n    const handleEscListener = (evt) => {\n      if (evt.key === 'Escape') onClose();\n    };\n\n    if (isOpen) document.addEventListener('keydown', handleEscListener);\n\n    return () => document.removeEventListener('keydown', handleEscListener);\n  }, [isOpen, onClose]);\n\n  const handleOverlayClick = (evt) => {\n    if (evt.target.classList.contains('popup')) onClose();\n  };\n\n  return (\n    <section\n      className={popupClasses}\n      id=\"popupCardPreview\"\n      onClick={handleOverlayClick}\n    >\n      <div className=\"popup__container\">\n        <section className=\"preview-image popup__preview\">\n          <Button\n            action=\"close\"\n            label=\"закрыть\"\n            optionalClasses=\"popup__btn-close preview-image__btn-close\"\n            onBtnClick={onClose}\n          />\n          <img\n            src={link}\n            alt={name}\n            className=\"preview-image__img popup__img\"\n          />\n          <h3 className=\"preview-image__title popup__title\">{name}</h3>\n        </section>\n      </div>\n    </section>\n  );\n};\n\nexport default ImagePopup;\n","import React, { useEffect } from 'react';\nimport classnames from 'classnames';\n\nimport Button from './ui/Button';\n\nconst PopupWithForm = ({\n  name,\n  title,\n  isOpen = false,\n  onClose,\n  onSubmitForm,\n  children,\n}) => {\n  const popupClasses = classnames({\n    popup: true,\n    popup_disabled: !isOpen,\n  });\n\n  useEffect(() => {\n    const handleEscListener = (evt) => {\n      if (evt.key === 'Escape') onClose();\n    };\n\n    if (isOpen) document.addEventListener('keydown', handleEscListener);\n\n    return () => {\n      document.removeEventListener('keydown', handleEscListener);\n    };\n  }, [isOpen, onClose]);\n\n  const handleOverlayClick = (evt) => {\n    if (evt.target.classList.contains('popup')) onClose();\n  };\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onSubmitForm();\n  };\n\n  return (\n    <section\n      className={popupClasses}\n      id={`popup${name}`}\n      onClick={handleOverlayClick}\n    >\n      <div className=\"popup__container\">\n        <Button\n          action=\"close\"\n          label=\"закрыть\"\n          optionalClasses=\"popup__btn-close\"\n          onBtnClick={onClose}\n        />\n        <h3 className=\"popup__title\">{title}</h3>\n        <form\n          name={name}\n          method=\"post\"\n          action=\"#\"\n          className=\"form popup__form\"\n          onSubmit={handleSubmit}\n        >\n          {children}\n        </form>\n      </div>\n    </section>\n  );\n};\n\nexport default PopupWithForm;\n","import React from 'react';\n\nexport const StatusRenderContext = React.createContext();\n","import React, { useContext } from 'react';\nimport Loader from 'react-loader-spinner';\n\nimport { StatusRenderContext } from './../../contexts/StatusRenderContext';\n\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst ButtonSubmitForm = ({ text, label }) => {\n  const isRenderer = useContext(StatusRenderContext);\n\n  return (\n    <button\n      type=\"submit\"\n      className=\"btn btn_type_submit form__btn-submit\"\n      aria-label={label}\n    >\n      {isRenderer ? (\n        <Loader\n          type=\"ThreeDots\"\n          color=\"#ffffff\"\n          height={80}\n          width={80}\n          className=\"btn__spinner\"\n        />\n      ) : (\n        text\n      )}\n    </button>\n  );\n};\n\nexport default ButtonSubmitForm;\n","import React from 'react';\n\nconst InputForm = ({\n  type = 'text',\n  placeholder,\n  name,\n  required = false,\n  length = { min: 0, max: 500 },\n  pattern = '.*',\n  value = '',\n  onInputChange,\n}) => {\n  return (\n    <input\n      type={type}\n      className=\"input form__input\"\n      placeholder={placeholder}\n      name={name}\n      required={required}\n      minLength={length.min}\n      maxLength={length.max}\n      pattern={pattern}\n      value={value}\n      onChange={onInputChange}\n    />\n  );\n};\n\nexport default InputForm;\n","import React, { useState, useEffect, useContext } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport ButtonSubmitForm from './ui/ButtonSubmitForm';\nimport InputForm from './ui/InputForm';\n\nimport { CurrentUserContext } from './../contexts/CurrentUserContext';\n\nconst EditProfilePopup = ({ isOpen, onClose, onUpdaterUser }) => {\n  const currentUser = useContext(CurrentUserContext);\n\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n\n  useEffect(() => {\n    const { name, about } = currentUser;\n    setName(name);\n    setDescription(about);\n  }, [currentUser]);\n\n  const handleNameChange = (evt) => setName(evt.target.value);\n  const handleDescriptionChange = (evt) => setDescription(evt.target.value);\n  const handleClose = () => {\n    const { name, about } = currentUser;\n    setName(name);\n    setDescription(about);\n    onClose();\n  };\n  const handleSubmit = () =>\n    onUpdaterUser({\n      name,\n      about: description,\n    });\n\n  return (\n    <PopupWithForm\n      name=\"EditForm\"\n      title=\"Редактировать профиль\"\n      isOpen={isOpen}\n      onClose={handleClose}\n      onSubmitForm={handleSubmit}\n    >\n      <label className=\"form__field\">\n        <InputForm\n          placeholder=\"Введите имя\"\n          name=\"name\"\n          length={{ min: 2, max: 40 }}\n          pattern=\"[А-Яа-яёЁA-Za-z\\s-]*\"\n          required\n          value={name}\n          onInputChange={handleNameChange}\n        />\n        <span className=\"form__input-error\" id=\"user-name-input-error\"></span>\n      </label>\n      <label className=\"form__field\">\n        <InputForm\n          placeholder=\"Введите хобби\"\n          name=\"hobby\"\n          length={{ min: 2, max: 200 }}\n          required\n          value={description}\n          onInputChange={handleDescriptionChange}\n        />\n        <span className=\"form__input-error\" id=\"hobby-input-error\"></span>\n      </label>\n      <ButtonSubmitForm text=\"Сохранить\" label=\"сохранить\" />\n    </PopupWithForm>\n  );\n};\n\nexport default EditProfilePopup;\n","import React, { useState, useRef } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport ButtonSubmitForm from './ui/ButtonSubmitForm';\n\nconst EditAvatarPopup = ({ isOpen, onClose, onUpdaterUserAvatar }) => {\n  const inputUrl = useRef();\n\n  const [avatar, setAvatar] = useState('');\n\n  const handleUrlChange = () => setAvatar(inputUrl.current.value);\n  const handleSubmit = () =>\n    onUpdaterUserAvatar({\n      avatar,\n    });\n\n  return (\n    <PopupWithForm\n      name=\"EditForm\"\n      title=\"Редактировать профиль\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmitForm={handleSubmit}\n    >\n      <label className=\"form__field\">\n        <input\n          type=\"url\"\n          className=\"input input_type_hobby form__input\"\n          placeholder=\"Ссылка на новый аватар\"\n          name=\"urlAvatar\"\n          id=\"avatar-input\"\n          required\n          ref={inputUrl}\n          onChange={handleUrlChange}\n        />\n        <span className=\"form__input-error\" id=\"avatar-input-error\"></span>\n      </label>\n      <ButtonSubmitForm text=\"Сохранить\" label=\"сохранить\" />\n    </PopupWithForm>\n  );\n};\n\nexport default EditAvatarPopup;\n","import React, { useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport ButtonSubmitForm from './ui/ButtonSubmitForm';\nimport InputForm from './ui/InputForm';\n\nconst AddPlacePopup = ({ isOpen, onClose, onPost }) => {\n  const [name, setName] = useState();\n  const [link, setLink] = useState();\n\n  const handleNameChange = (evt) => setName(evt.target.value);\n  const handleLinkChange = (evt) => setLink(evt.target.value);\n  const handleSubmit = () => onPost({ name, link });\n\n  return (\n    <PopupWithForm\n      name=\"AddForm\"\n      title=\"Новое место\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmitForm={handleSubmit}\n    >\n      <label className=\"form__field\">\n        <InputForm\n          placeholder=\"Название места\"\n          name=\"place\"\n          required\n          length={{ min: 1, max: 30 }}\n          value={name}\n          onInputChange={handleNameChange}\n        />\n        <span className=\"form__input-error\" id=\"place-input-error\"></span>\n      </label>\n      <label className=\"form__field\">\n        <InputForm\n          type=\"url\"\n          placeholder=\"Ссылка на картинку\"\n          name=\"linkPlace\"\n          required\n          value={link}\n          onInputChange={handleLinkChange}\n        />\n        <span className=\"form__input-error\" id=\"url-input-error\"></span>\n      </label>\n      <ButtonSubmitForm text=\"Создать\" label=\"создать\" />\n    </PopupWithForm>\n  );\n};\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm'; // !\nimport ButtonSubmitForm from './ui/ButtonSubmitForm';\n\nconst DeletePlacePopup = ({ isOpen, onClose, onDelete }) => {\n  return (\n    <PopupWithForm\n      name=\"DeleteForm\"\n      title=\"Вы уверены?\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmitForm={onDelete}\n    >\n      <ButtonSubmitForm text=\"Да\" label=\"подтвердить\" />\n    </PopupWithForm>\n  );\n};\n\nexport default DeletePlacePopup;\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  getInitialData() {\n    return Promise.all([this._getUserInfo(), this._getInitialCards()]);\n  }\n\n  _returnResponse(response) {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(`Ошибка: ${response.status}`);\n  }\n\n  _getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    }).then(this._returnResponse);\n  }\n\n  _getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    })\n      .then(this._returnResponse)\n      .then((response) => {\n        this.myId = response._id;\n        return response;\n      });\n  }\n\n  updateUserInfo(body) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(body),\n    }).then(this._returnResponse);\n  }\n\n  updateUserAvatar(body) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(body),\n    }).then(this._returnResponse);\n  }\n\n  postCard(body) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(body),\n    }).then(this._returnResponse);\n  }\n\n  deleteCard({ cardId }) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then(this._returnResponse);\n  }\n\n  likeCard({ isLiked, cardId }) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: isLiked ? 'DELETE' : 'PUT',\n      headers: this._headers,\n    })\n      .then(this._returnResponse)\n      .then((data) => data.likes);\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-12',\n  headers: {\n    authorization: '71b91625-ec4b-4170-b042-4d00aa6f06b7',\n    'Content-Type': 'application/json',\n  },\n});\n\nexport default api;\n","import React, { useState, useEffect } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeletePlacePopup from './DeletePlacePopup';\n\nimport api from './../utils/Api';\n\nimport { CurrentUserContext } from './../contexts/CurrentUserContext';\nimport { StatusRenderContext } from './../contexts/StatusRenderContext';\n\nconst App = () => {\n  const [isRenderer, setIsRenderer] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isDeletePlacePopupOpen, setIsDeletePlacePopupOpen] = useState(false);\n  const [isPreviewPopupOpen, setIsPreviewPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [selectedDeleteCardId, setSelectedDeleteCardId] = useState('');\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n\n  useEffect(() => {\n    api\n      .getInitialData()\n      .then(([userData, cardsData]) => {\n        setCurrentUser(userData);\n        setCards(cardsData);\n      })\n      .catch((error) => console.log(`Ошибка: ${error}`));\n  }, []);\n\n  const handlePreviewOpen = () => setIsPreviewPopupOpen(true);\n  const handleEditAvatarClick = () => setIsEditAvatarPopupOpen(true);\n  const handleEditProfileClick = () => setIsEditProfilePopupOpen(true);\n  const handleAddPlaceClick = () => setIsAddPlacePopupOpen(true);\n  const handleDeletePlaceClick = ({ cardId }) => {\n    setIsDeletePlacePopupOpen(true);\n    setSelectedDeleteCardId(cardId);\n  };\n  const handleCloseAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsDeletePlacePopupOpen(false);\n    setIsPreviewPopupOpen(false);\n  };\n\n  const handleCardClick = (infoCard) => {\n    setSelectedCard(infoCard);\n    handlePreviewOpen();\n  };\n\n  const handleUpdaterUser = ({ name, about }) => {\n    setIsRenderer(true);\n    api\n      .updateUserInfo({ name, about })\n      .then((newUserData) => {\n        setCurrentUser(newUserData);\n        handleCloseAllPopups();\n        setIsRenderer(false);\n      })\n      .catch((error) => console.log(`Ошибка: ${error}`));\n  };\n\n  const handleUpdaterAvatar = ({ avatar }) => {\n    setIsRenderer(true);\n    api\n      .updateUserAvatar({ avatar })\n      .then((newUserData) => {\n        setCurrentUser(newUserData);\n        handleCloseAllPopups();\n        setIsRenderer(false);\n      })\n      .catch((error) => console.log(`Ошибка: ${error}`));\n  };\n\n  const handleCardLike = ({ likes, cardId }) => {\n    const isLiked = likes.some((owner) => owner._id === currentUser._id);\n    api\n      .likeCard({ isLiked, cardId })\n      .then((likes) => {\n        const newCards = cards.map((card) =>\n          card._id === cardId ? { ...card, likes: likes } : card\n        );\n        setCards(newCards);\n      })\n      .catch((error) => console.log(`Ошибка: ${error}`));\n  };\n\n  const handleCardDelete = () => {\n    setIsRenderer(true);\n    api\n      .deleteCard({ cardId: selectedDeleteCardId })\n      .then(() => {\n        const newCards = cards.filter(\n          (card) => card._id !== selectedDeleteCardId\n        );\n        setCards(newCards);\n        handleCloseAllPopups();\n        setIsRenderer(false);\n      })\n      .catch((error) => console.log(`Ошибка: ${error}`));\n  };\n\n  const handleAddPlace = ({ name, link }) => {\n    setIsRenderer(true);\n    api\n      .postCard({ name, link })\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        handleCloseAllPopups();\n        setIsRenderer(false);\n      })\n      .catch((error) => console.log(`Ошибка: ${error}`));\n  };\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main\n          cards={cards}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          onCardLike={handleCardLike}\n          onConfirmDelete={handleDeletePlaceClick}\n        />\n        <Footer />\n        <ImagePopup\n          {...selectedCard}\n          isOpen={isPreviewPopupOpen}\n          onClose={handleCloseAllPopups}\n        />\n        <StatusRenderContext.Provider value={isRenderer}>\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={handleCloseAllPopups}\n            onUpdaterUser={handleUpdaterUser}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={handleCloseAllPopups}\n            onUpdaterUserAvatar={handleUpdaterAvatar}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={handleCloseAllPopups}\n            onPost={handleAddPlace}\n          />\n          <DeletePlacePopup\n            isOpen={isDeletePlacePopupOpen}\n            onClose={handleCloseAllPopups}\n            onDelete={handleCardDelete}\n          />\n        </StatusRenderContext.Provider>\n      </CurrentUserContext.Provider>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}